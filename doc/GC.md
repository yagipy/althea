## 方針
- 新しいヒープ割り当てごとに単一のオーナーを選ぶ
  - 最初に割り当てられる変数
- その後の全ての使用を最大限借用とする
  - 最初のヒープ割り当てと全ての借用は、実行時の参照カウントを使用しない
- 同じ値を所有したい場合は、参照カウントを増加させる
- 変数は常に所有権を持つ
- 変数のライフタイムはスコープの終わりだが、returnした場合は親のスコープの終わりとなる
- 代入された引数は常に所有される
- 関数の戻り値は常に所有される
- ASTNodeには、子に対して期待する所有権の"種類"と、親に渡す所有権の"種類"があり、親子でマッチングを行う
  - 2つが一致した場合: 何も起こらない
    - 例: `let a = [1, 2, 3]`
      - 参照カウントはさわらない
  - 親が所有したいのに子が借りたい場合: 参照カウントを増やすか(デフォルト)、エラーにするか(オプション)
    - 例: `let a = b`
  - 親は借りたいが、子は所有したい場合: 現在のスコープに無名変数を挿入する
    - 例: `print [ 1, 2, 3 ]`
      - ベクターはスコープ内で保持され、スコープが終了した時点で削除(一旦はスタックに入れておく)

- TODO: 借用値について書く

## 検討事項
- 所有権の解析は、変数等の保存場所だけでなく言語内の全ての値に影響させる必要があるかどうか
- Exprが変数、フィールド、構造体の値を返すときは、L値がそれを所有しているため、これらの値を借用することをデフォルトとする必要があるかどうか
- 型チェックと一緒にしても良さそう

## 詳細
### Instruction
- Let:
- Println:
